<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MDY Rental Car • Boutique Car Rental</title>
  <meta name="description" content="Locação boutique com experiência premium. Frota selecionada, atendimento humano e processos simples. MDY Rental Car." />
  <meta name="theme-color" content="#0a1030" />
  <!-- número do admin limpinho (apenas dígitos) vindo das rotas -->
  <meta name="admin-whatsapp" content="{{ whatsapp|default('', true) }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='assets/favicon.png') }}">

  <!-- Tipografia -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600..800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">

  <style>
    :root{ --navy:#0a1030; --ink:#0b1220; --gold:#f1d053; --glass:rgba(10,16,48,.42); --text:#e9edf7; }
    html,body{ height:100%; scroll-behavior:smooth; }
    body{ font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#090d1a; color:#cfd7ea; }

    /* Navbar translúcida */
    .navbar{
      position:absolute; inset:0 auto auto 0; width:100%; z-index:10;
      background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,0)); backdrop-filter:blur(4px);
    }
    .navbar-brand{ display:none !important; }
    .lang-top a{ color:#e9edf7!important; opacity:.85; margin-left:.75rem; font-weight:600; }
    .lang-top a.active{ opacity:1; text-decoration:underline; }

    /* HERO */
    .hero{ position:relative; min-height:100svh; display:grid; place-items:center; overflow:hidden; background:#000; }
    .hero video, .hero .bg-image{
      position:absolute; inset:0; width:100%; height:100%;
      object-fit:cover; filter:brightness(.62) saturate(1.05);
    }
    .hero .bg-image{ display:none; }
    .hero::after{
      content:""; position:absolute; inset:0;
      background:
        radial-gradient(1200px 600px at 75% 85%, rgba(241,208,83,.25) 0%, rgba(241,208,83,0) 55%),
        linear-gradient(180deg, rgba(10,16,48,.55) 0%, rgba(10,16,48,.35) 35%, rgba(10,16,48,.75) 100%);
      pointer-events:none;
    }
    .hero .content{ position:relative; z-index:2; width:min(1100px, 92vw); text-align:center; color:var(--text); }
    @media (max-width: 991.98px){ .hero .content{ padding-top:64px; } }

    .brand-lockup{ display:flex; align-items:center; justify-content:center; gap:16px; margin-bottom:22px; }
    .brand-lockup img{ height:200px; max-width:90vw; object-fit:contain; filter: drop-shadow(0 8px 28px rgba(241,208,83,.28)); }
    @media (max-width:992px){ .brand-lockup img{ height:160px; } }
    @media (max-width:576px){ .brand-lockup img{ height:120px; } }

    .eyebrow{ display:inline-flex; align-items:center; gap:.5rem; font-weight:600; letter-spacing:.12em; text-transform:uppercase; color:#fff; background:rgba(241,208,83,.16); border:1px solid rgba(241,208,83,.35); border-radius:100px; padding:.4rem .85rem; }
    .display-title{ font-family:"Playfair Display",serif; font-weight:700; line-height:1.1; letter-spacing:.3px; color:#fff; font-size:clamp(2rem, 3.4vw + .6rem, 3.6rem); margin:14px 0 10px; }
    .lead{ color:#dbe3f5; max-width:880px; margin-inline:auto; font-size:clamp(1rem, .5vw + .9rem, 1.25rem); }
    .btn-gold{ background:var(--gold); color:#0a0f22; border:none; font-weight:700; box-shadow:0 14px 28px rgba(241,208,83,.25); }
    .btn-gold:hover{ filter:brightness(1.02); }

    /* Card de cotação */
    .quote-card{
      backdrop-filter: blur(8px); background: rgba(10,16,48,.45);
      border:1px solid rgba(255,255,255,.18); border-radius:18px; padding:14px;
      box-shadow:0 18px 40px rgba(0,0,0,.40); max-width:1100px; margin:22px auto 0;
    }
    .quote-card .form-control, .quote-card .form-select{
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.18); color:#f5f7fd;
    }
    .quote-card .form-control::placeholder{ color:#cfd7ea; opacity:.75; }
    .quote-card label{ font-size:.85rem; color:#e6ebf7; }

    section{ padding:clamp(56px,7vw,104px) 0; }
    .section-muted{ background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border-top:1px solid rgba(255,255,255,.08); border-bottom:1px solid rgba(255,255,255,.08); }

    .card-boutique{ background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.12); border-radius:22px; box-shadow:0 18px 40px rgba(0,0,0,.35); height:100%; overflow:hidden; }
    .card-boutique .ratio img{ object-fit:cover; }
    .card-inactive .ratio img{ filter:grayscale(1) opacity(.55); }
    .card-inactive .badge-state{ background:rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.25); color:#e5eaf5; }

    footer{ background:#080c18; color:#aab3c5; } footer a{ color:#cad7ff; }

    /* FAB do WhatsApp no canto inferior DIREITO */
    .wa-fab{
      position:fixed;
      right:calc(14px + env(safe-area-inset-right));
      bottom:calc(14px + env(safe-area-inset-bottom));
      z-index:1100; text-decoration:none; display:none; /* mostra via JS se tiver número */
    }
    .wa-fab .btn{
      width:56px; height:56px; border-radius:50%;
      display:grid; place-items:center; background:#25D366; color:#fff;
      box-shadow:0 10px 26px rgba(0,0,0,.35);
    }

    .text-soft{ color:#E2E8F5 !important; }

    @media (prefers-reduced-motion: reduce){ .hero video{ display:none!important; } }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="#"></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbars">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="navbars" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="#diferenciais" data-i18n="nav.benefits">Diferenciais</a></li>
          <li class="nav-item"><a class="nav-link" href="#frota" data-i18n="nav.fleet">Frota</a></li>
          <li class="nav-item"><a class="nav-link" href="#como" data-i18n="nav.how">Como funciona</a></li>
          <li class="nav-item"><a class="nav-link" href="#reviews" data-i18n="nav.reviews">O que dizem</a></li>
          <li class="nav-item"><a class="nav-link" href="#sobre" data-i18n="nav.about">Sobre</a></li>
          <li class="nav-item"><a class="nav-link" href="#faq" data-i18n="nav.faq">FAQ</a></li>
          <!-- Idiomas no topo à direita -->
          <li class="nav-item ms-lg-3 lang-top">
            <a href="#" data-lang="pt">PT</a>
            <a href="#" data-lang="en">EN</a>
            <a href="#" data-lang="es">ES</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <video autoplay muted playsinline webkit-playsinline loop
           poster="{{ url_for('static', filename='assets/hero-poster.jpg') }}">
      <source src="{{ url_for('static', filename='assets/hero.mp4') }}" type="video/mp4" />
      <img class="bg-image" src="{{ url_for('static', filename='assets/hero-mobile.jpg') }}" alt="Frota boutique MDY" />
    </video>

    <div class="content">
      <div class="brand-lockup">
        <a href="#" aria-label="Topo">
          <img src="{{ url_for('static', filename='assets/logo-gold.png') }}" alt="MDY Rental Car" />
        </a>
      </div>
      <span class="eyebrow" data-i18n="hero.badge"><i class="bi bi-stars"></i> Experiência boutique</span>
      <h1 class="display-title" data-i18n="hero.title">Aluguel de carros, <span style="color:var(--gold)">do seu jeito</span></h1>
      <p class="lead" data-i18n="hero.subtitle">Seleção enxuta, atendimento humano e processos sem atrito. A experiência certa, no momento certo.</p>

      <!-- FORMULÁRIO DE COTAÇÃO -->
      <form id="quoteForm" class="quote-card">
        <div class="row g-2 g-md-3 align-items-end">
          <div class="col-12 col-md-3">
            <label class="form-label">Local de retirada</label>
            <input id="pickup_place" name="pickup_place" class="form-control" placeholder="Ex.: Aeroporto MCO" list="locations-list" required>
          </div>
          <div class="col-12 col-md-3">
            <label class="form-label">Data de retirada</label>
            <input name="pickup_date" type="date" class="form-control" required>
          </div>
          <div class="col-12 col-md-3">
            <label class="form-label">Local de entrega</label>
            <input id="drop_place" name="drop_place" class="form-control" placeholder="Ex.: Hotel em Orlando" list="locations-list" required>
          </div>
          <div class="col-12 col-md-3">
            <label class="form-label">Data de entrega</label>
            <input name="drop_date" type="date" class="form-control" required>
          </div>

          <div class="col-12 col-md-4">
            <label class="form-label">Nome</label>
            <input name="name" class="form-control" placeholder="Seu nome" required>
          </div>
          <div class="col-12 col-md-4">
            <label class="form-label">Telefone (WhatsApp)</label>
            <input name="phone" class="form-control" placeholder="(DDD) 99999-9999" required>
          </div>
          <div class="col-12 col-md-4">
            <label class="form-label">Tipo de carro (categoria)</label>
            <select name="category" class="form-select" required>
              {% for s in grid_slots %}
                <option value="{{ s.name }}">{{ s.name }}</option>
              {% endfor %}
            </select>
          </div>

          <div class="col-12 text-center">
            <button type="submit" class="btn btn-gold btn-lg px-4">Fazer cotação</button>
            <div id="quoteFeedback" class="small mt-2 text-soft"></div>
          </div>
        </div>
      </form>
    </div>
  </header>

  <!-- DIFERENCIAIS (mantido) -->
  <section id="diferenciais">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-6 fw-bold" style="font-family:'Playfair Display',serif" data-i18n="benefits.title">Por que a MDY Rental Car é boutique?</h2>
        <p class="text-soft" data-i18n="benefits.subtitle">Curadoria, agilidade e transparência para quem valoriza tempo e experiência.</p>
      </div>
      <div class="row g-4">
        <div class="col-12 col-md-6 col-lg-3">
          <div class="card-boutique p-4 h-100">
            <div class="icon-circle mb-3"><i class="bi bi-hand-thumbs-up"></i></div>
            <h5 class="fw-semibold" data-i18n="benefits.b1.title">Atendimento humano</h5>
            <p class="mb-0" data-i18n="benefits.b1.text">Sem chatbots no momento-chave. Você fala com alguém que resolve.</p>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
          <div class="card-boutique p-4 h-100">
            <div class="icon-circle mb-3"><i class="bi bi-lightning-charge"></i></div>
            <h5 class="fw-semibold" data-i18n="benefits.b2.title">Retirada expressa</h5>
            <p class="mb-0" data-i18n="benefits.b2.text">Chegue e saia. Documentos validados antes, fila quase zero.</p>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
          <div class="card-boutique p-4 h-100">
            <div class="icon-circle mb-3"><i class="bi bi-shield-check"></i></div>
            <h5 class="fw-semibold" data-i18n="benefits.b3.title">Coberturas claras</h5>
            <p class="mb-0" data-i18n="benefits.b3.text">Planos objetivos: sem asteriscos escondidos ou surpresas.</p>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-3">
          <div class="card-boutique p-4 h-100">
            <div class="icon-circle mb-3"><i class="bi bi-car-front"></i></div>
            <h5 class="fw-semibold" data-i18n="benefits.b4.title">Frota curada</h5>
            <p class="mb-0" data-i18n="benefits.b4.text">Modelos atuais e bem-cuidados, com revisão e limpeza padrão hotel.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FROTA (6 slots fixos, 3x2) -->
  <section id="frota" class="section-muted">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-6 fw-bold" style="font-family:'Playfair Display',serif" data-i18n="fleet.title">Frota Destaque</h2>
        <p class="text-soft" data-i18n="fleet.subtitle">Explore nossas categorias boutique</p>
      </div>
      <div class="row g-4">
        {% for slot in grid_slots %}
          <div class="col-12 col-sm-6 col-lg-4">
            <div class="card-boutique p-0 {% if not slot.active %}card-inactive{% endif %}">
              <div class="ratio ratio-16x9">
                {% if slot.image %}
                  <img src="{{ url_for('static', filename=slot.image) }}" alt="{{ slot.name }}">
                {% else %}
                  <img src="{{ url_for('static', filename='assets/placeholder-car.jpg') }}" alt="{{ slot.name }}">
                {% endif %}
              </div>
              <div class="p-4 d-flex justify-content-between align-items-center">
                <div>
                  <div class="fw-semibold" style="font-family:'Playfair Display',serif; font-size:1.25rem">{{ slot.name }}</div>
                  <div class="small text-muted">{{ slot.slug }}</div>
                </div>
                {% if slot.active %}
                  <span class="badge" style="background:rgba(241,208,83,.18); border:1px solid rgba(241,208,83,.35); color:#f1d053">Disponível</span>
                {% else %}
                  <span class="badge badge-state">Não disponível</span>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- COMO FUNCIONA (mantido) -->
  <section id="como">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-12 col-lg-6">
          <h2 class="fw-bold mb-3" style="font-family:'Playfair Display',serif" data-i18n="how.title">Como funciona</h2>
          <ol class="list-group list-group-numbered">
            <li class="list-group-item bg-transparent text-light border-secondary" data-i18n="how.step1">Escolha o veículo e o período.</li>
            <li class="list-group-item bg-transparent text-light border-secondary" data-i18n="how.step2">Preencha seus dados e confirme a reserva.</li>
            <li class="list-group-item bg-transparent text-light border-secondary" data-i18n="how.step3">Retire o carro e aproveite a viagem.</li>
            <li class="list-group-item bg-transparent text-light border-secondary" data-i18n="how.step4">Devolução simples no ponto combinado.</li>
          </ol>
          <p class="mt-3 text-soft" data-i18n="how.note">Sem letrinhas miúdas: mostramos valores e coberturas antes da confirmação.</p>
          <div class="d-flex gap-2 mt-3">
            <span class="badge bg-success-subtle text-success border border-success-subtle"><i class="bi bi-check2-circle me-1"></i><span data-i18n="how.badge1">Validação antecipada</span></span>
            <span class="badge bg-info-subtle text-info border border-info-subtle"><i class="bi bi-clock me-1"></i><span data-i18n="how.badge2">Retirada em minutos</span></span>
          </div>
        </div>
        <div class="col-12 col-lg-6">
          <div class="ratio ratio-16x9 rounded-4 overflow-hidden" style="box-shadow:0 18px 40px rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.12)">
            <img src="{{ url_for('static', filename='assets/app-mockup.jpg') }}" alt="App MDY no celular">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DEPOIMENTOS (mantido) -->
  <section id="reviews" class="section-muted">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="display-6 fw-bold" style="font-family:'Playfair Display',serif" data-i18n="reviews.title">O que nossos clientes dizem</h2>
        <p class="text-soft" data-i18n="reviews.subtitle">Experiências reais de quem já alugou com a MDY.</p>
      </div>
      <div class="row g-4">
        <div class="col-12 col-lg-4">
          <div class="card-boutique p-4 h-100">
            <div class="d-flex align-items-center gap-2 mb-2"><i class="bi bi-chat-quote"></i><strong>Ana M.</strong></div>
            <p class="mb-0" data-i18n="reviews.r1">“Cheguei e saí em 10 minutos. Carro impecável, atendimento muito atencioso.”</p>
          </div>
        </div>
        <div class="col-12 col-lg-4">
          <div class="card-boutique p-4 h-100">
            <div class="d-flex align-items-center gap-2 mb-2"><i class="bi bi-chat-quote"></i><strong>Rafael T.</strong></div>
            <p class="mb-0" data-i18n="reviews.r2">“Cobertura clara, sem susto no balcão. Valeu cada dólar.”</p>
          </div>
        </div>
        <div class="col-12 col-lg-4">
          <div class="card-boutique p-4 h-100">
            <div class="d-flex align-items-center gap-2 mb-2"><i class="bi bi-chat-quote"></i><strong>Luciana P.</strong></div>
            <p class="mb-0" data-i18n="reviews.r3">“Entrega no hotel foi diferencial. Experiência boutique de verdade.”</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SOBRE (mantido, mais atrativa) -->
  <section id="sobre">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-12 col-lg-6">
          <h2 class="fw-bold mb-3" style="font-family:'Playfair Display',serif" data-i18n="about.title">Sobre a MDY</h2>
          <p class="mb-2" data-i18n="about.p1">Somos uma locadora boutique focada em experiência. Menos burocracia e mais cuidado em cada detalhe — do primeiro contato à devolução.</p>
          <p class="mb-2" data-i18n="about.p2">Nossa frota é curada e revisada com padrão hotel, para você só se preocupar com o roteiro. Transparência total em coberturas e taxas.</p>
          <p class="mb-3" data-i18n="about.p3">Atendemos viajantes, famílias e executivos que valorizam tempo, previsibilidade e conforto.</p>
          <div class="d-flex flex-wrap gap-2">
            <span class="badge bg-light text-dark">Atendimento humano</span>
            <span class="badge bg-light text-dark">Retirada expressa</span>
            <span class="badge bg-light text-dark">Entrega em hotel</span>
            <span class="badge bg-light text-dark">Planos claros</span>
          </div>
        </div>
        <div class="col-12 col-lg-6">
          <div class="ratio ratio-16x9 rounded-4 overflow-hidden" style="box-shadow:0 18px 40px rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.12)">
            <img src="{{ url_for('static', filename='assets/garage.jpg') }}" alt="Equipe MDY e garagem">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA FINAL (mantido) -->
  <section id="cta-final" class="section-muted">
    <div class="container text-center">
      <h2 class="display-6 fw-bold" style="font-family:'Playfair Display',serif" data-i18n="cta.title">Pronto para dirigir sua experiência?</h2>
      <p class="text-soft mb-4" data-i18n="cta.subtitle">Fale com a nossa equipe e receba sua cotação personalizada em minutos.</p>
      <div class="d-flex justify-content-center gap-2">
        <a href="#quoteForm" class="btn btn-gold btn-lg px-4" data-i18n="cta.cta1">Solicitar cotação</a>
        <a href="#faq" class="btn btn-outline-light btn-lg px-4" data-i18n="cta.cta2">Tirar dúvidas</a>
      </div>
    </div>
  </section>


  
  <!-- FOOTER + mapa do site (mantido) -->
  <footer class="py-4">
    <div class="container d-flex flex-column flex-md-row justify-content-between align-items-start gap-3">
      <div><strong>MDY Rental Car</strong> · <span data-i18n="footer.rights">Todos os direitos reservados.</span></div>
      <div class="small d-flex flex-column">
        <a class="me-3" href="/privacy" data-i18n="footer.privacy">Política de Privacidade</a>
        <a href="/terms" data-i18n="footer.terms">Termos de Uso</a>
        <div class="fw-semibold mt-2">Mapa do site</div>
        <nav class="d-flex flex-wrap gap-3">
          <a href="#diferenciais">Diferenciais</a>
          <a href="#frota">Frota</a>
          <a href="#como">Como funciona</a>
          <a href="#reviews">O que dizem</a>
          <a href="#sobre">Sobre</a>
          <a href="#faq">FAQ</a>
        </nav>
      </div>
    </div>
  </footer>

  <!-- === Locais sugeridos (datalist) === -->
  <datalist id="locations-list"></datalist>

  <!-- WhatsApp flutuante (direita) -->
  <a id="waFab" class="wa-fab" href="#" target="_blank" aria-label="WhatsApp">
    <div class="btn"><i class="bi bi-whatsapp" style="font-size:28px"></i></div>
  </a>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

 <script>
/* ===== i18n COMPLETO (PT/EN/ES) — drop-in fix ===== */
const I18N = {
  pt:{nav:{benefits:"Diferenciais",fleet:"Frota",how:"Como funciona",reviews:"O que dizem",about:"Sobre",faq:"FAQ"},
      hero:{badge:"Experiência boutique",title:"Aluguel de carros, do seu jeito",subtitle:"Seleção enxuta, atendimento humano e processos sem atrito. A experiência certa, no momento certo."},
      benefits:{title:"Por que a MDY Rental Car é boutique?",subtitle:"Curadoria, agilidade e transparência para quem valoriza tempo e experiência.",
        b1:{title:"Atendimento humano",text:"Sem chatbots no momento-chave. Você fala com alguém que resolve."},
        b2:{title:"Retirada expressa",text:"Chegue e saia. Documentos validados antes, fila quase zero."},
        b3:{title:"Coberturas claras",text:"Planos objetivos: sem asteriscos escondidos ou surpresas."},
        b4:{title:"Frota curada",text:"Modelos atuais e bem-cuidados, com revisão e limpeza padrão hotel."}},
      fleet:{title:"Frota Destaque",subtitle:"Explore nossas categorias boutique",empty:"Nenhuma categoria ativa ainda."},
      how:{title:"Como funciona",step1:"Escolha o veículo e o período.",step2:"Preencha seus dados e confirme a reserva.",step3:"Retire o carro e aproveite a viagem.",step4:"Devolução simples no ponto combinado.",
           note:"Sem letrinhas miúdas: mostramos valores e coberturas antes da confirmação.",badge1:"Validação antecipada",badge2:"Retirada em minutos"},
      reviews:{title:"O que nossos clientes dizem",subtitle:"Experiências reais de quem já alugou com a MDY.",r1:"“Cheguei e saí em 10 minutos. Carro impecável, atendimento muito atencioso.”",r2:"“Cobertura clara, sem susto no balcão. Valeu cada dólar.”",r3:"“Entrega no hotel foi diferencial. Experiência boutique de verdade.”"},
      about:{title:"Sobre a MDY",p1:"Somos uma locadora boutique focada em experiência. Menos burocracia e mais cuidado em cada detalhe — do primeiro contato à devolução.",
             p2:"Nossa frota é curada e revisada com padrão hotel, para você só se preocupar com o roteiro. Transparência total em coberturas e taxas.",
             p3:"Atendemos viajantes, famílias e executivos que valorizam tempo, previsibilidade e conforto."},
      cta:{title:"Pronto para dirigir sua experiência?",subtitle:"Fale com a nossa equipe e receba sua cotação personalizada em minutos."},
      footer:{rights:"Todos os direitos reservados.",privacy:"Política de Privacidade",terms:"Termos de Uso"}
  },
  en:{nav:{benefits:"Benefits",fleet:"Fleet",how:"How it works",reviews:"Reviews",about:"About",faq:"FAQ"},
      hero:{badge:"Boutique experience",title:"Car rental, your way",subtitle:"Curated fleet, human support and frictionless process. The right experience, right on time."},
      benefits:{title:"Why is MDY boutique?",subtitle:"Curation, agility and transparency.",
        b1:{title:"Human support",text:"No chatbots at key moments."},
        b2:{title:"Express pickup",text:"Docs validated in advance."},
        b3:{title:"Clear coverage",text:"Straightforward plans."},
        b4:{title:"Curated fleet",text:"Hotel-grade cleaning."}},
      fleet:{title:"Featured Fleet",subtitle:"Explore our boutique categories",empty:"No active categories yet."},
      how:{title:"How it works",step1:"Choose the vehicle and dates.",step2:"Fill your info and confirm.",step3:"Pick up and enjoy.",step4:"Easy drop-off at the agreed point.",note:"No fine print.",badge1:"Pre-validation",badge2:"Pickup in minutes"},
      reviews:{title:"What guests say",subtitle:"Real experiences from MDY renters.",r1:"“In and out in 10 minutes. Immaculate car.”",r2:"“Clear coverage. Worth every dollar.”",r3:"“Hotel delivery was a game changer.”"},
      about:{title:"About MDY",p1:"A boutique rental focused on experience.",p2:"Curated fleet with hotel-grade maintenance.",p3:"For travelers who value time."},
      cta:{title:"Ready to drive your experience?",subtitle:"Talk to our team and get a tailored quote in minutes."},
      footer:{rights:"All rights reserved.",privacy:"Privacy Policy",terms:"Terms of Use"}
  },
  es:{nav:{benefits:"Diferenciales",fleet:"Flota",how:"Cómo funciona",reviews:"Opiniones",about:"Sobre",faq:"FAQ"},
      hero:{badge:"Experiencia boutique",title:"Alquiler a tu manera",subtitle:"Flota curada, soporte humano y proceso sin fricción."},
      benefits:{title:"¿Por qué MDY es boutique?",subtitle:"Curaduría, agilidad y transparencia.",
        b1:{title:"Atención humana",text:"Sin chatbots en el momento clave."},
        b2:{title:"Retiro exprés",text:"Documentos validados antes."},
        b3:{title:"Coberturas claras",text:"Planes directos."},
        b4:{title:"Flota curada",text:"Limpieza nivel hotel."}},
      fleet:{title:"Flota Destacada",subtitle:"Explora nuestras categorías boutique",empty:"Aún no hay categorías activas."},
      how:{title:"Cómo funciona",step1:"Elige vehículo y fechas.",step2:"Completa tus datos y confirma.",step3:"Retira y disfruta.",step4:"Devolución simple.",note:"Sin letra chica.",badge1:"Pre-validación",badge2:"Retiro en minutos"},
      reviews:{title:"Qué dicen los clientes",subtitle:"Experiencias reales.",r1:"“En 10 minutos en ruta.”",r2:"“Cobertura clara.”",r3:"“Entrega en el hotel marcó la diferencia.”"},
      about:{title:"Sobre MDY",p1:"Rentadora boutique enfocada en la experiencia.",p2:"Flota curada con mantenimiento nivel hotel.",p3:"Para quienes valoran el tiempo."},
      cta:{title:"¿Listo para conducir tu experiencia?",subtitle:"Recibe tu cotización en minutos."},
      footer:{rights:"Todos los derechos reservados.",privacy:"Política de Privacidad",terms:"Términos de Uso"}
  }
};

/* Aplica traduções a todos elementos com data-i18n */
function applyI18N(lang){
  const dict = I18N[lang] || I18N.pt;
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const path = el.getAttribute('data-i18n').split('.');
    let cur = dict; for (const k of path){ cur = cur?.[k]; }
    if (typeof cur === 'string') el.textContent = cur;
  });
}

/* Troca de idioma + persistência + destacar no topo */
function setLang(lang){
  lang = I18N[lang] ? lang : 'pt';
  document.documentElement.lang = lang;
  localStorage.setItem('lang', lang);
  applyI18N(lang);
  const url = new URL(location); url.searchParams.set('lang', lang);
  history.replaceState({}, '', url);
  document.querySelectorAll('.lang-top a').forEach(a=>{
    a.classList.toggle('active', a.dataset.lang===lang);
  });
}

/* Inicialização + eventos */
const initialLang = new URLSearchParams(location.search).get('lang') || localStorage.getItem('lang') || 'pt';
document.addEventListener('DOMContentLoaded', ()=>{
  setLang(initialLang);
  document.querySelectorAll('.lang-top a').forEach(a=>{
    a.addEventListener('click', e=>{ e.preventDefault(); setLang(a.dataset.lang); });
  });
});
/* ===== fim i18n ===== */
</script>

</body>
</html>

<script>
document.addEventListener("DOMContentLoaded", function(){
  var meta = document.querySelector('meta[name="admin-whatsapp"]');
  var num = meta ? meta.getAttribute("content") : "";
  num = (num || "").replace(/\D+/g,"");
  var fab = document.getElementById("waFab");
  if (fab && num) {
    var msg = encodeURIComponent("Olá! Vim do site e quero uma cotação :)");
    fab.href = "https://wa.me/" + num + "?text=" + msg;
    fab.style.display = "block";
  } else if (fab) {
    fab.style.display = "none";
  }
});
</script>
<script>
(function(){
  // ====== Helpers ======
  function onlyDigits(s){ return (s||"").replace(/\D+/g,""); }
  function adminNumber(){
    var meta = document.querySelector('meta[name="admin-whatsapp"]');
    return onlyDigits(meta ? meta.getAttribute("content") : "");
  }

  // ====== Popular datalist de locais ======
  document.addEventListener("DOMContentLoaded", function(){
    fetch("/api/locations").then(r=>r.ok?r.json():[]).then(list=>{
      var dl = document.getElementById("locations-list");
      if(!dl) return;
      dl.innerHTML = "";
      (list||[]).forEach(it=>{
        var opt = document.createElement("option");
        opt.value = it.name;
        dl.appendChild(opt);
      });
    }).catch(()=>{});
  });

  // ====== Envio do formulário + CRM + WhatsApp ======
  document.addEventListener("DOMContentLoaded", function(){
    var form = document.getElementById("quoteForm");
    var feedback = document.getElementById("quoteFeedback");
    if(!form) return;

    form.addEventListener("submit", async function(e){
      e.preventDefault();
      if (feedback) { feedback.textContent = "Enviando..."; }

      // Coletar campos
      var data = {
        pickup_place : form.querySelector('[name="pickup_place"]')?.value?.trim() || "",
        pickup_date  : form.querySelector('[name="pickup_date"]')?.value?.trim() || "",
        drop_place   : form.querySelector('[name="drop_place"]')?.value?.trim() || "",
        drop_date    : form.querySelector('[name="drop_date"]')?.value?.trim() || "",
        name         : form.querySelector('[name="name"]')?.value?.trim() || "",
        phone        : form.querySelector('[name="phone"]')?.value?.trim() || "",
        category     : form.querySelector('[name="category"]')?.value?.trim() || "",
        source       : "home"
      };

      try{
        // 1) Envia para o backend (cai no CRM)
        var r = await fetch("/api/quote", {
          method: "POST",
          headers: {"Content-Type":"application/json"},
          body: JSON.stringify(data)
        });
        var js = await r.json();

        if(!r.ok || !js.ok){
          throw new Error(js?.error || "Falha ao enviar.");
        }

        // 2) Monta mensagem e abre WhatsApp do admin
        var num = adminNumber();
        var msg =
          "Olá! Vim do site MDY e quero cotar.%0A%0A" +
          " Nome: " + encodeURIComponent(data.name) + "%0A" +
          " WhatsApp: " + encodeURIComponent(data.phone) + "%0A" +
          " Categoria: " + encodeURIComponent(data.category) + "%0A" +
          " Retirada: " + encodeURIComponent(data.pickup_place) + "  " + encodeURIComponent(data.pickup_date || "a combinar") + "%0A" +
          " Devolução: " + encodeURIComponent(data.drop_place) + "  " + encodeURIComponent(data.drop_date || "a combinar");

        if(num){
          var url = "https://wa.me/" + num + "?text=" + msg;
          window.open(url, "_blank");
          if (feedback) feedback.textContent = "Solicitação enviada! Abrindo WhatsApp...";
        } else {
          if (feedback) feedback.textContent = "Solicitação enviada! (WhatsApp do admin não configurado.)";
        }

        // Limpa o formulário (opcional)
        // form.reset();
      }catch(err){
        if (feedback) feedback.textContent = "Não foi possível enviar. Verifique os campos e tente novamente.";
        console.error(err);
      }
    });
  });
})();
</script>
<!-- fleet  prefill quote form -->
<style>
  /* torna os cards clicáveis */
  #frota .card-boutique{ cursor:pointer; }
</style>
<script>
document.addEventListener('click', function(e){
  const card = e.target.closest('#frota .card-boutique');
  if(!card) return;

  // lê o título da categoria dentro do card
  const titleEl = card.querySelector('.fw-semibold');
  const categoryText = (titleEl?.textContent || '').trim();
  if(!categoryText) return;

  // encontra o <select> de categoria no formulário
  const form = document.getElementById('quoteForm');
  const sel  = form?.querySelector('select[name="category"]');
  if(!sel) return;

  // tenta selecionar a opção cujo texto bate com o do card (case-insensitive)
  const wanted = categoryText.toLowerCase();
  const opt = Array.from(sel.options).find(o => (o.text || '').trim().toLowerCase() === wanted);
  if(opt) sel.value = opt.value;

  // rola suave até o formulário e dá foco no select
  form.scrollIntoView({behavior:'smooth', block:'center'});
  sel.focus();
});
</script>

<script>
document.addEventListener('DOMContentLoaded', function(){
  // pega o número do meta (só dígitos)
  var meta = document.querySelector('meta[name="admin-whatsapp"]');
  var wa = (meta && meta.content ? meta.content : '').replace(/\D+/g,'');
  // pega o botão pelo data-i18n (sem depender de id)
  var btn = document.querySelector('a[data-i18n="cta.cta2"]');
  if (!btn) return;

  if (wa) {
    var msg = encodeURIComponent('Olá! Tenho uma dúvida sobre a locação na MDY.');
    btn.setAttribute('href', 'https://wa.me/' + wa + '?text=' + msg);
    btn.setAttribute('target', '_blank');
    btn.setAttribute('rel', 'noopener');
  } else {
    // fallback se não houver número configurado
    btn.setAttribute('href', '#faq');
    btn.removeAttribute('target');
  }
});
</script>