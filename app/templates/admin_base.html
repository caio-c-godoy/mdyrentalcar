<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>Admin • MDY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root{
      --navy:#0a1030;      /* fundo */
      --gold:#f1d053;      /* dourado MDY */
      --text:#e9edf7;      /* texto claro */
    }
    html,body{height:100%;}
    body{
      background:#090d1a; color:var(--text);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif;
    }
    .admin-navbar{
      background: linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.35));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .brand-img{ height:40px; object-fit:contain; filter: drop-shadow(0 6px 18px rgba(241,208,83,.25)); }
    .admin-actions{
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.10);
      border-radius:12px; padding:.75rem;
    }
    .admin-actions .btn{
      --bs-btn-color:#e9edf7;
      --bs-btn-border-color: rgba(255,255,255,.18);
      --bs-btn-bg: rgba(255,255,255,.06);
    }
    .admin-actions .btn:hover{
      color:#0a0f22; background:var(--gold); border-color:var(--gold);
    }
    .btn-secondary{
      background:transparent; border-color:var(--gold); color:var(--gold);
    }
    .btn-secondary:hover{ background:var(--gold); color:#0a0f22; }
    .admin-content{ overflow-x:auto; }   /* tabelas largas no mobile */
    .alert{
      background: rgba(255,255,255,.06);
      color: var(--text);
      border: 1px solid rgba(255,255,255,.15);
    }
    @media (max-width:576px){ .admin-actions .btn{ width:100%; } }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar navbar-dark admin-navbar">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center gap-2" href="/">
        <img class="brand-img" src="/static/assets/logo-gold.png" alt="MDY Rental Car">
        <span class="fw-semibold">Admin • MDY</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#adminNav">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>

  <div class="admin-wrap container-lg py-3">

    <!-- AÇÕES (links absolutos p/ evitar 500 por endpoints) -->
    <div id="adminNav" class="collapse show">
      <div class="admin-actions d-flex flex-wrap gap-2">
        <a class="btn btn-sm" href="/admin/categories">Categorias</a>
        <a class="btn btn-sm" href="/admin/locations">Localidades</a>
        <a class="btn btn-sm" href="/admin/settings">Configurações</a>
        <a class="btn btn-sm" href="/admin/crm/cotacoes">CRM</a>
        <a class="btn btn-sm" href="/admin/legal">Políticas</a>
        <a class="btn btn-sm" href="/admin/faq">FAQ</a>
        </div>
    </div>

    <!-- FLASHES -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="my-3">
          {% for cat, msg in messages %}
            <div class="alert alert-{{ cat }} py-2 my-2">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- CONTEÚDO DAS PÁGINAS FILHAS -->
    <div class="admin-content mt-3">
      {% block content %}{% endblock %}
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
